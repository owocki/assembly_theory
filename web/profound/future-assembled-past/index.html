<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Future Is Assembled From the Past - Assembly Theory</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #141e30 0%, #243b55 50%, #141e30 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
        }

        h1 {
            font-size: 3.5em;
            font-weight: 300;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #f093fb, #f5576c, #4facfe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.4em;
            color: #b0bec5;
            margin-bottom: 40px;
        }

        .assembly-pathway {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 50px 0;
            position: relative;
        }

        .timeline-container {
            position: relative;
            margin: 40px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, #f093fb, #f5576c, #4facfe);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin: 30px 0;
            display: flex;
            align-items: center;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            width: 45%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .timeline-content:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.08);
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            border: 3px solid #243b55;
            z-index: 1;
        }

        .assembly-constraints {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 50px 0;
        }

        .constraint-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border-left: 4px solid #f5576c;
            position: relative;
            overflow: hidden;
        }

        .constraint-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(245, 87, 108, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .constraint-card:hover::before {
            opacity: 1;
        }

        .possibility-space {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin: 50px 0;
            text-align: center;
        }

        .possibility-diagram {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 40px 0;
            flex-wrap: wrap;
            gap: 30px;
        }

        .possibility-node {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            transition: all 0.3s ease;
        }

        .past-node {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }

        .present-node {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            box-shadow: 0 0 30px rgba(240, 147, 251, 0.5);
        }

        .future-node {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            box-shadow: 0 0 30px rgba(79, 172, 254, 0.5);
            opacity: 0.6;
        }

        .arrow-connector {
            font-size: 48px;
            color: #f5576c;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        .interactive-demo {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 50px 0;
            text-align: center;
        }

        .demo-button {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(245, 87, 108, 0.3);
        }

        .concept-explanation {
            background: rgba(240, 147, 251, 0.1);
            border-left: 4px solid #f093fb;
            padding: 30px;
            margin: 40px 0;
            border-radius: 0 15px 15px 0;
        }

        .back-link {
            display: inline-block;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            padding: 12px 30px;
            text-decoration: none;
            border-radius: 25px;
            margin-top: 40px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(240, 147, 251, 0.3);
        }

        .assembly-node {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .node-past {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        .node-present {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            box-shadow: 0 0 20px rgba(240, 147, 251, 0.5);
        }

        .node-future {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            box-shadow: 0 0 20px rgba(79, 172, 254, 0.5);
            opacity: 0.6;
        }

        .node-possible {
            background: linear-gradient(135deg, #00f2fe, #4facfe);
            border: 2px dashed rgba(255, 255, 255, 0.5);
            opacity: 0.4;
        }

        .assembly-node:hover {
            transform: scale(1.2);
            z-index: 20;
        }

        .assembly-connection {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(240, 147, 251, 0.6), transparent);
            transform-origin: left center;
            z-index: 5;
        }

        .connection-active {
            animation: flowConnection 2s linear infinite;
        }

        @keyframes flowConnection {
            0% { background-position: -100px 0; }
            100% { background-position: 100px 0; }
        }

        .future-possibility {
            background: rgba(79, 172, 254, 0.1);
            border: 1px solid rgba(79, 172, 254, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .future-possibility:hover {
            background: rgba(79, 172, 254, 0.2);
            transform: translateY(-2px);
        }

        .node-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 100;
        }

        .node-tooltip.visible {
            opacity: 1;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            .timeline-content { width: 90%; }
            .timeline-item { flex-direction: column !important; }
            #assemblyCanvas { height: 400px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">‚Üê Back to Profound Implications</a>

        <div class="header">
            <h1>The Future Is Assembled From the Past</h1>
            <p class="subtitle">Tomorrow's complexity can only emerge from today's existing assembly pathways</p>
        </div>

        <div class="assembly-pathway">
            <h2 style="text-align: center; margin-bottom: 40px;">Assembly Inheritance Timeline</h2>
            
            <div class="timeline-container">
                <div class="timeline-line"></div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Atoms</h3>
                        <p>Basic elements forged in stars provide the foundation for all chemistry</p>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Molecules</h3>
                        <p>Chemical bonds create new properties, enabling organic chemistry</p>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Life</h3>
                        <p>Self-replicating systems emerge from existing molecular machinery</p>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Intelligence</h3>
                        <p>Neural complexity builds on cellular information processing</p>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Technology</h3>
                        <p>Human tools extend biological capabilities using accumulated knowledge</p>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Future</h3>
                        <p>Unknown complexities will emerge from today's assembly foundations</p>
                    </div>
                    <div class="timeline-dot"></div>
                </div>
            </div>
        </div>

        <div class="possibility-space">
            <h2>The Constraint of History</h2>
            
            <div class="possibility-diagram">
                <div class="possibility-node past-node">
                    <span>Past<br>Assemblies</span>
                </div>
                
                <div class="arrow-connector">‚Üí</div>
                
                <div class="possibility-node present-node">
                    <span>Current<br>Possibilities</span>
                </div>
                
                <div class="arrow-connector">‚Üí</div>
                
                <div class="possibility-node future-node">
                    <span>Future<br>Potential</span>
                </div>
            </div>
            
            <p style="opacity: 0.8;">Each stage constrains and enables the next. You can't skip steps in assembly.</p>
        </div>

        <div class="assembly-constraints">
            <div class="constraint-card">
                <h3>üîó Causal Chains</h3>
                <p>Future structures must be buildable from present components. You can't assemble what doesn't have precursors. This is why perpetual motion machines remain impossible.</p>
            </div>
            
            <div class="constraint-card">
                <h3>üèóÔ∏è Building Blocks</h3>
                <p>Complex futures require simple presents. DNA needed amino acids. Computers needed transistors. AI needs computation. Each level provides materials for the next.</p>
            </div>
            
            <div class="constraint-card">
                <h3>‚è±Ô∏è Time Requirements</h3>
                <p>Assembly takes time. The future can't arrive faster than assembly processes allow. Evolution took billions of years because each step had to be built and tested.</p>
            </div>
            
            <div class="constraint-card">
                <h3>üåê Path Dependence</h3>
                <p>History matters. The specific sequence of past assemblies determines which futures are accessible. Different histories lead to different possible tomorrows.</p>
            </div>
            
            <div class="constraint-card">
                <h3>üîÑ Feedback Loops</h3>
                <p>Present assemblies modify the landscape of future possibilities. Each innovation opens new pathways while closing others. Technology changes what technology can be.</p>
            </div>
            
            <div class="constraint-card">
                <h3>üí° Emergent Potential</h3>
                <p>While constrained by the past, the future holds genuine novelty. New combinations of existing elements create properties that couldn't be predicted from components alone.</p>
            </div>
        </div>

        <div class="concept-explanation">
            <h3>The Assembly Principle of Time</h3>
            <p>Assembly Theory reveals that the future isn't just influenced by the past‚Äîit's literally constructed from it. Every complex structure that will ever exist must be assembled from components that exist today, which were assembled from components that existed yesterday.</p>
            
            <p>This principle explains:</p>
            <ul>
                <li><strong>Why innovation is incremental:</strong> Revolutionary changes still build on existing foundations</li>
                <li><strong>Why some futures are impossible:</strong> They lack assembly pathways from the present</li>
                <li><strong>Why history shapes possibility:</strong> Past choices create the building blocks for future options</li>
                <li><strong>Why complexity increases:</strong> Each generation inherits and extends previous assemblies</li>
            </ul>
            
            <p>The future is not predetermined, but it is preconstrained. Tomorrow's miracles must be assembled from today's materials using processes discovered yesterday.</p>
        </div>

        <div class="interactive-demo">
            <h3>Assembly Pathway Simulator</h3>
            <p>Build the future by assembling from the past</p>
            
            <div id="assemblyCanvas" style="position: relative; width: 100%; height: 600px; background: rgba(0, 0, 0, 0.3); border-radius: 20px; margin: 30px 0; overflow: hidden;">
                <canvas id="pathwayCanvas" style="width: 100%; height: 100%;"></canvas>
                
                <div id="timelineControl" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.7); padding: 15px; border-radius: 15px;">
                    <input type="range" id="timeSlider" min="0" max="100" value="0" style="width: 300px;">
                    <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                        <span>Past</span>
                        <span id="currentEra" style="color: #f093fb;">Big Bang</span>
                        <span>Future</span>
                    </div>
                </div>
                
                <div id="assemblyInfo" style="position: absolute; top: 20px; right: 20px; background: rgba(0, 0, 0, 0.7); padding: 15px; border-radius: 10px; max-width: 250px;">
                    <h4 style="margin: 0 0 10px 0; color: #f093fb;">Assembly Stats</h4>
                    <div id="statsContent">
                        <p style="margin: 5px 0;">Components: <span id="componentCount">0</span></p>
                        <p style="margin: 5px 0;">Connections: <span id="connectionCount">0</span></p>
                        <p style="margin: 5px 0;">Complexity: <span id="complexityLevel">0</span></p>
                        <p style="margin: 5px 0;">Possible Futures: <span id="futureCount">0</span></p>
                    </div>
                </div>
            </div>
            
            <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
                <button class="demo-button" onclick="startSimulation()">Start Evolution</button>
                <button class="demo-button" onclick="addComponent()">Add Component</button>
                <button class="demo-button" onclick="createConnection()">Create Connection</button>
                <button class="demo-button" onclick="exploreFutures()">Explore Futures</button>
                <button class="demo-button" onclick="resetSimulation()">Reset</button>
            </div>
            
            <div id="pathwayDisplay" style="margin-top: 30px; padding: 20px; background: rgba(0, 0, 0, 0.3); border-radius: 10px;">
                <h4 style="color: #f093fb;">Current Assembly Pathway</h4>
                <div id="pathwayText">Start the simulation to see how the future assembles from the past...</div>
            </div>
            
            <div id="futureVisions" style="margin-top: 20px; display: none;">
                <h4 style="color: #4facfe;">Possible Futures From Current State</h4>
                <div id="futureGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                </div>
            </div>
        </div>

    </div>

    <script>
        // Assembly Pathway Simulator
        let canvas, ctx;
        let nodes = [];
        let connections = [];
        let possibleFutures = [];
        let currentTime = 0;
        let animationId = null;
        let tooltip = null;

        const eras = [
            { time: 0, name: "Big Bang", icon: "üí•" },
            { time: 10, name: "First Atoms", icon: "‚öõÔ∏è" },
            { time: 20, name: "Stars Form", icon: "‚≠ê" },
            { time: 30, name: "Complex Molecules", icon: "üß™" },
            { time: 40, name: "First Life", icon: "ü¶†" },
            { time: 50, name: "Multicellular", icon: "üêô" },
            { time: 60, name: "Intelligence", icon: "üß†" },
            { time: 70, name: "Technology", icon: "üíª" },
            { time: 80, name: "AI Era", icon: "ü§ñ" },
            { time: 90, name: "Unknown Future", icon: "üåå" },
            { time: 100, name: "Maximum Assembly", icon: "‚ú®" }
        ];

        const assemblyPathways = {
            atoms: { requires: [], enables: ["molecules", "stars"], icon: "‚öõÔ∏è", name: "Atoms" },
            stars: { requires: ["atoms"], enables: ["heavy_elements"], icon: "‚≠ê", name: "Stars" },
            molecules: { requires: ["atoms"], enables: ["organic", "minerals"], icon: "üß™", name: "Molecules" },
            organic: { requires: ["molecules"], enables: ["life"], icon: "üß¨", name: "Organic Chemistry" },
            life: { requires: ["organic"], enables: ["evolution", "ecosystems"], icon: "ü¶†", name: "Life" },
            evolution: { requires: ["life"], enables: ["complexity", "intelligence"], icon: "üêæ", name: "Evolution" },
            intelligence: { requires: ["evolution"], enables: ["culture", "technology"], icon: "üß†", name: "Intelligence" },
            technology: { requires: ["intelligence"], enables: ["computing", "space", "biotech"], icon: "‚öôÔ∏è", name: "Technology" },
            computing: { requires: ["technology"], enables: ["ai", "quantum"], icon: "üíª", name: "Computing" },
            ai: { requires: ["computing"], enables: ["agi", "consciousness"], icon: "ü§ñ", name: "AI" },
            consciousness: { requires: ["ai", "intelligence"], enables: ["transcendence"], icon: "üëÅÔ∏è", name: "Digital Consciousness" },
            transcendence: { requires: ["consciousness"], enables: [], icon: "‚ú®", name: "Transcendence" }
        };

        function initCanvas() {
            canvas = document.getElementById('pathwayCanvas');
            ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Create tooltip
            tooltip = document.createElement('div');
            tooltip.className = 'node-tooltip';
            document.getElementById('assemblyCanvas').appendChild(tooltip);
            
            // Initialize with basic nodes
            createInitialNodes();
            
            // Set up time slider
            const slider = document.getElementById('timeSlider');
            slider.addEventListener('input', (e) => {
                currentTime = parseInt(e.value);
                updateEra();
                updateSimulation();
            });
            
            // Start animation
            animate();
        }

        function createInitialNodes() {
            // Create Big Bang node
            nodes.push({
                id: 'bigbang',
                x: canvas.width / 2,
                y: canvas.height / 2,
                icon: 'üí•',
                name: 'Big Bang',
                type: 'past',
                time: 0,
                assembled: true
            });
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw connections
            connections.forEach(conn => {
                drawConnection(conn);
            });
            
            // Draw nodes
            nodes.forEach(node => {
                drawNode(node);
            });
            
            // Draw possible futures
            if (currentTime > 50) {
                drawPossibleFutures();
            }
            
            animationId = requestAnimationFrame(animate);
        }

        function drawNode(node) {
            const canvasNode = document.querySelector(`[data-node-id="${node.id}"]`);
            if (!canvasNode) {
                const div = document.createElement('div');
                div.className = `assembly-node node-${node.type}`;
                div.setAttribute('data-node-id', node.id);
                div.style.left = (node.x - 30) + 'px';
                div.style.top = (node.y - 30) + 'px';
                div.textContent = node.icon;
                
                div.addEventListener('mouseenter', (e) => showTooltip(e, node));
                div.addEventListener('mouseleave', hideTooltip);
                div.addEventListener('click', () => selectNode(node));
                
                document.getElementById('assemblyCanvas').appendChild(div);
            } else {
                // Update position for animation
                canvasNode.style.left = (node.x - 30) + 'px';
                canvasNode.style.top = (node.y - 30) + 'px';
            }
        }

        function drawConnection(conn) {
            const from = nodes.find(n => n.id === conn.from);
            const to = nodes.find(n => n.id === conn.to);
            
            if (!from || !to) return;
            
            ctx.beginPath();
            ctx.moveTo(from.x, from.y);
            ctx.lineTo(to.x, to.y);
            ctx.strokeStyle = `rgba(240, 147, 251, ${conn.strength || 0.5})`;
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Draw arrow
            const angle = Math.atan2(to.y - from.y, to.x - from.x);
            const arrowLength = 10;
            ctx.beginPath();
            ctx.moveTo(to.x - 30 * Math.cos(angle), to.y - 30 * Math.sin(angle));
            ctx.lineTo(
                to.x - 30 * Math.cos(angle) - arrowLength * Math.cos(angle - Math.PI / 6),
                to.y - 30 * Math.sin(angle) - arrowLength * Math.sin(angle - Math.PI / 6)
            );
            ctx.moveTo(to.x - 30 * Math.cos(angle), to.y - 30 * Math.sin(angle));
            ctx.lineTo(
                to.x - 30 * Math.cos(angle) - arrowLength * Math.cos(angle + Math.PI / 6),
                to.y - 30 * Math.sin(angle) - arrowLength * Math.sin(angle + Math.PI / 6)
            );
            ctx.stroke();
        }

        function showTooltip(e, node) {
            tooltip.innerHTML = `
                <strong>${node.name}</strong><br>
                Type: ${node.type}<br>
                Time: Era ${Math.floor(node.time / 10)}<br>
                ${node.enables ? `Enables: ${node.enables.join(', ')}` : ''}
            `;
            tooltip.style.left = e.pageX + 10 + 'px';
            tooltip.style.top = e.pageY + 10 + 'px';
            tooltip.classList.add('visible');
        }

        function hideTooltip() {
            tooltip.classList.remove('visible');
        }

        function startSimulation() {
            if (animationId) return;
            
            // Start evolving through time
            const interval = setInterval(() => {
                currentTime += 1;
                document.getElementById('timeSlider').value = currentTime;
                updateEra();
                evolveSystem();
                
                if (currentTime >= 100) {
                    clearInterval(interval);
                }
            }, 100);
        }

        function evolveSystem() {
            // Add nodes based on current time
            const currentEra = eras.find(e => e.time <= currentTime && (!eras[eras.indexOf(e) + 1] || eras[eras.indexOf(e) + 1].time > currentTime));
            
            if (currentTime === 10 && !nodes.find(n => n.id === 'atoms')) {
                addEvolutionNode('atoms', canvas.width * 0.3, canvas.height * 0.3);
            } else if (currentTime === 20 && !nodes.find(n => n.id === 'stars')) {
                addEvolutionNode('stars', canvas.width * 0.7, canvas.height * 0.3);
            } else if (currentTime === 30 && !nodes.find(n => n.id === 'molecules')) {
                addEvolutionNode('molecules', canvas.width * 0.5, canvas.height * 0.4);
            } else if (currentTime === 40 && !nodes.find(n => n.id === 'life')) {
                addEvolutionNode('life', canvas.width * 0.4, canvas.height * 0.5);
            } else if (currentTime === 60 && !nodes.find(n => n.id === 'intelligence')) {
                addEvolutionNode('intelligence', canvas.width * 0.6, canvas.height * 0.6);
            } else if (currentTime === 70 && !nodes.find(n => n.id === 'technology')) {
                addEvolutionNode('technology', canvas.width * 0.5, canvas.height * 0.7);
            }
            
            updateStats();
        }

        function addEvolutionNode(type, x, y) {
            const pathway = assemblyPathways[type];
            if (!pathway) return;
            
            const node = {
                id: type,
                x: x,
                y: y,
                icon: pathway.icon,
                name: pathway.name,
                type: currentTime < 70 ? 'past' : 'present',
                time: currentTime,
                assembled: true,
                enables: pathway.enables,
                requires: pathway.requires
            };
            
            nodes.push(node);
            
            // Create connections to requirements
            pathway.requires.forEach(req => {
                const reqNode = nodes.find(n => n.id === req);
                if (reqNode) {
                    connections.push({
                        from: req,
                        to: type,
                        strength: 0.8
                    });
                }
            });
            
            updatePathwayText(`${pathway.name} emerged from ${pathway.requires.join(' and ') || 'fundamental forces'}`);
        }

        function addComponent() {
            if (currentTime < 70) {
                alert("You can only add components in the present era (move timeline past 70%)");
                return;
            }
            
            const x = Math.random() * (canvas.width - 100) + 50;
            const y = Math.random() * (canvas.height - 100) + 50;
            const id = 'custom_' + Date.now();
            
            nodes.push({
                id: id,
                x: x,
                y: y,
                icon: 'üîß',
                name: 'New Component',
                type: 'present',
                time: currentTime,
                assembled: true
            });
            
            updateStats();
        }

        function createConnection() {
            if (nodes.length < 2) {
                alert("Need at least 2 components to create connections");
                return;
            }
            
            // Connect random nodes
            const from = nodes[Math.floor(Math.random() * nodes.length)];
            const to = nodes[Math.floor(Math.random() * nodes.length)];
            
            if (from.id !== to.id) {
                connections.push({
                    from: from.id,
                    to: to.id,
                    strength: 0.5 + Math.random() * 0.5
                });
                
                updateStats();
            }
        }

        function exploreFutures() {
            // Show possible futures based on current state
            const futureVisions = document.getElementById('futureVisions');
            const futureGrid = document.getElementById('futureGrid');
            
            futureVisions.style.display = 'block';
            futureGrid.innerHTML = '';
            
            // Generate possible futures based on current nodes
            const currentTech = nodes.filter(n => n.type === 'present' || n.type === 'past');
            const futures = generatePossibleFutures(currentTech);
            
            futures.forEach(future => {
                const div = document.createElement('div');
                div.className = 'future-possibility';
                div.innerHTML = `
                    <div style="font-size: 32px;">${future.icon}</div>
                    <h5>${future.name}</h5>
                    <p style="font-size: 12px; opacity: 0.8;">${future.description}</p>
                    <p style="font-size: 11px; color: #4facfe;">Probability: ${future.probability}%</p>
                `;
                div.onclick = () => visualizeFuture(future);
                futureGrid.appendChild(div);
            });
        }

        function generatePossibleFutures(currentNodes) {
            const futures = [];
            
            if (currentNodes.find(n => n.id === 'technology')) {
                futures.push({
                    icon: 'ü§ñ',
                    name: 'AGI Emergence',
                    description: 'Artificial General Intelligence',
                    probability: 85
                });
                futures.push({
                    icon: 'üß¨',
                    name: 'Biological Enhancement',
                    description: 'Engineered human evolution',
                    probability: 70
                });
            }
            
            if (currentNodes.find(n => n.id === 'intelligence')) {
                futures.push({
                    icon: 'üåå',
                    name: 'Cosmic Expansion',
                    description: 'Interstellar civilization',
                    probability: 60
                });
            }
            
            if (connections.length > 5) {
                futures.push({
                    icon: 'üîÆ',
                    name: 'Emergent Complexity',
                    description: 'Unpredicted assembly pathways',
                    probability: 95
                });
            }
            
            return futures;
        }

        function visualizeFuture(future) {
            // Add future node to visualization
            const x = canvas.width / 2 + (Math.random() - 0.5) * 200;
            const y = canvas.height * 0.2;
            
            nodes.push({
                id: 'future_' + Date.now(),
                x: x,
                y: y,
                icon: future.icon,
                name: future.name,
                type: 'future',
                time: currentTime + 20,
                assembled: false
            });
            
            // Connect to present nodes
            const presentNodes = nodes.filter(n => n.type === 'present');
            if (presentNodes.length > 0) {
                connections.push({
                    from: presentNodes[0].id,
                    to: nodes[nodes.length - 1].id,
                    strength: future.probability / 100
                });
            }
        }

        function updateEra() {
            const era = eras.find(e => e.time <= currentTime && (!eras[eras.indexOf(e) + 1] || eras[eras.indexOf(e) + 1].time > currentTime));
            document.getElementById('currentEra').textContent = era ? era.name : 'Unknown';
        }

        function updateStats() {
            document.getElementById('componentCount').textContent = nodes.length;
            document.getElementById('connectionCount').textContent = connections.length;
            document.getElementById('complexityLevel').textContent = Math.floor(nodes.length * connections.length / 2);
            document.getElementById('futureCount').textContent = Math.floor(Math.pow(connections.length, 1.5));
        }

        function updatePathwayText(text) {
            document.getElementById('pathwayText').innerHTML += `<br>‚Üí ${text}`;
        }

        function resetSimulation() {
            nodes = [];
            connections = [];
            possibleFutures = [];
            currentTime = 0;
            
            document.getElementById('timeSlider').value = 0;
            document.getElementById('pathwayText').textContent = 'Start the simulation to see how the future assembles from the past...';
            document.getElementById('futureVisions').style.display = 'none';
            
            // Clear canvas nodes
            const canvasNodes = document.querySelectorAll('.assembly-node');
            canvasNodes.forEach(node => node.remove());
            
            createInitialNodes();
            updateEra();
            updateStats();
        }

        function drawPossibleFutures() {
            // Draw translucent future cones
            ctx.save();
            ctx.globalAlpha = 0.1;
            ctx.fillStyle = '#4facfe';
            
            nodes.filter(n => n.type === 'present').forEach(node => {
                ctx.beginPath();
                ctx.moveTo(node.x, node.y);
                ctx.lineTo(node.x - 100, node.y - 150);
                ctx.lineTo(node.x + 100, node.y - 150);
                ctx.closePath();
                ctx.fill();
            });
            
            ctx.restore();
        }

        function selectNode(node) {
            // Show what this node enables
            const pathway = assemblyPathways[node.id];
            if (pathway && pathway.enables.length > 0) {
                updatePathwayText(`${node.name} enables: ${pathway.enables.join(', ')}`);
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            initCanvas();
            
            // Animate timeline items
            const items = document.querySelectorAll('.timeline-item');
            items.forEach((item, index) => {
                item.style.opacity = '0';
                setTimeout(() => {
                    item.style.transition = 'opacity 0.5s ease';
                    item.style.opacity = '1';
                }, index * 200);
            });
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        });
    </script>
</body>
</html>