<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reality Has Compression Algorithms - Assembly Theory</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
        }

        h1 {
            font-size: 3.5em;
            font-weight: 300;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ffd89b, #19547b, #ffd89b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% auto;
            animation: gradient 3s ease infinite;
        }

        @keyframes gradient {
            to { background-position: 200% center; }
        }

        .subtitle {
            font-size: 1.4em;
            color: #b0bec5;
            margin-bottom: 40px;
        }

        .compression-demo {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 50px 0;
            position: relative;
        }

        .compression-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .compression-card {
            background: linear-gradient(135deg, rgba(255, 216, 155, 0.1), rgba(25, 84, 123, 0.1));
            border-radius: 15px;
            padding: 30px;
            border: 1px solid rgba(255, 216, 155, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .compression-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 216, 155, 0.2);
        }

        .ratio-display {
            font-size: 2em;
            font-weight: bold;
            color: #ffd89b;
            margin: 15px 0;
            text-align: center;
        }

        .compression-visualization {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            gap: 30px;
        }

        .data-box {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .arrow-compress {
            font-size: 48px;
            color: #ffd89b;
            animation: compress 2s ease-in-out infinite;
        }

        @keyframes compress {
            0%, 100% { transform: scaleX(1); }
            50% { transform: scaleX(0.5); }
        }

        .algorithm-list {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
        }

        .algorithm-item {
            background: linear-gradient(90deg, transparent, rgba(255, 216, 155, 0.1), transparent);
            margin: 15px 0;
            padding: 20px;
            border-radius: 10px;
            border-left: 3px solid #ffd89b;
            transition: all 0.3s ease;
        }

        .algorithm-item:hover {
            transform: translateX(10px);
            background: linear-gradient(90deg, transparent, rgba(255, 216, 155, 0.2), transparent);
        }

        .interactive-compressor {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 50px 0;
            text-align: center;
        }

        .input-area {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 216, 155, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            min-height: 100px;
        }

        .compress-button {
            background: linear-gradient(135deg, #ffd89b, #19547b);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .compress-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 216, 155, 0.3);
        }

        .concept-explanation {
            background: rgba(255, 216, 155, 0.1);
            border-left: 4px solid #ffd89b;
            padding: 30px;
            margin: 40px 0;
            border-radius: 0 15px 15px 0;
        }

        .fractal-display {
            width: 300px;
            height: 300px;
            margin: 30px auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
            position: relative;
        }

        .fractal-layer {
            position: absolute;
            border: 2px solid rgba(255, 216, 155, 0.3);
            border-radius: 10px;
            animation: fractalPulse 3s ease-in-out infinite;
        }

        @keyframes fractalPulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.1); opacity: 0.7; }
        }

        .back-link {
            display: inline-block;
            background: linear-gradient(135deg, #ffd89b, #19547b);
            color: white;
            padding: 12px 30px;
            text-decoration: none;
            border-radius: 25px;
            margin-top: 40px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 216, 155, 0.3);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            .compression-visualization { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">‚Üê Back to Profound Implications</a>

        <div class="header">
            <h1>Reality Has Compression Algorithms</h1>
            <p class="subtitle">The universe naturally develops efficient ways to store and process information</p>
        </div>

        <div class="compression-demo">
            <h2 style="text-align: center; margin-bottom: 40px;">Nature's Compression Schemes</h2>
            
            <div class="compression-examples">
                <div class="compression-card">
                    <h3>üß¨ DNA</h3>
                    <p>3 billion base pairs encode instructions for 37 trillion cells</p>
                    <div class="ratio-display">1:10,000,000</div>
                    <p style="text-align: center; opacity: 0.8;">Compression Ratio</p>
                </div>
                
                <div class="compression-card">
                    <h3>üå± Seeds</h3>
                    <p>Tiny package contains complete blueprint for massive trees</p>
                    <div class="ratio-display">1:1,000,000</div>
                    <p style="text-align: center; opacity: 0.8;">Compression Ratio</p>
                </div>
                
                <div class="compression-card">
                    <h3>üß† Memory</h3>
                    <p>Lifetime of experiences compressed into neural patterns</p>
                    <div class="ratio-display">1:100,000</div>
                    <p style="text-align: center; opacity: 0.8;">Compression Ratio</p>
                </div>
                
                <div class="compression-card">
                    <h3>üåå Physical Laws</h3>
                    <p>Simple equations describe infinite cosmic phenomena</p>
                    <div class="ratio-display">1:‚àû</div>
                    <p style="text-align: center; opacity: 0.8;">Compression Ratio</p>
                </div>
                
                <div class="compression-card">
                    <h3>‚ùÑÔ∏è Fractals</h3>
                    <p>Infinite complexity from simple recursive rules</p>
                    <div class="ratio-display">1:‚àû</div>
                    <p style="text-align: center; opacity: 0.8;">Compression Ratio</p>
                </div>
                
                <div class="compression-card">
                    <h3>üíé Crystals</h3>
                    <p>Unit cells repeat to create massive structures</p>
                    <div class="ratio-display">1:10¬π¬≤</div>
                    <p style="text-align: center; opacity: 0.8;">Compression Ratio</p>
                </div>
            </div>
        </div>

        <div class="compression-visualization">
            <div class="data-box">
                <h4>Raw Information</h4>
                <p style="font-size: 2em;">10¬≤‚Åµ bits</p>
                <p>Uncompressed reality</p>
            </div>
            
            <div class="arrow-compress">‚Üí</div>
            
            <div class="data-box">
                <h4>Compressed Form</h4>
                <p style="font-size: 2em;">10¬π‚Åµ bits</p>
                <p>Efficient encoding</p>
            </div>
        </div>

        <div class="algorithm-list">
            <h2 style="text-align: center; margin-bottom: 30px;">Reality's Compression Algorithms</h2>
            
            <div class="algorithm-item">
                <h4>üîÑ Symmetry</h4>
                <p>Repeated patterns need only be stored once. Snowflakes, crystals, and organisms use symmetry to minimize information requirements.</p>
            </div>
            
            <div class="algorithm-item">
                <h4>üåÄ Recursion</h4>
                <p>Self-similar structures at different scales. Fractals, trees, blood vessels, and coastlines use recursive compression.</p>
            </div>
            
            <div class="algorithm-item">
                <h4>üìê Mathematical Laws</h4>
                <p>Infinite phenomena compressed into simple equations. F=ma describes all mechanical motion in just three symbols.</p>
            </div>
            
            <div class="algorithm-item">
                <h4>üß¨ Hierarchical Assembly</h4>
                <p>Complex structures built from simpler components. Atoms ‚Üí molecules ‚Üí cells ‚Üí organisms, each level compressing the one below.</p>
            </div>
            
            <div class="algorithm-item">
                <h4>üíæ Quantum Superposition</h4>
                <p>Multiple states existing simultaneously until observed. Reality compresses possibilities into actualities only when necessary.</p>
            </div>
            
            <div class="algorithm-item">
                <h4>üéØ Attractors</h4>
                <p>Complex dynamics compressed into stable states. Planetary orbits, biological cycles, and chemical equilibria are compressed dynamics.</p>
            </div>
        </div>

        <div class="fractal-display">
            <div class="fractal-layer" style="width: 250px; height: 250px;"></div>
            <div class="fractal-layer" style="width: 200px; height: 200px; animation-delay: 0.5s;"></div>
            <div class="fractal-layer" style="width: 150px; height: 150px; animation-delay: 1s;"></div>
            <div class="fractal-layer" style="width: 100px; height: 100px; animation-delay: 1.5s;"></div>
            <div class="fractal-layer" style="width: 50px; height: 50px; animation-delay: 2s;"></div>
            <span style="opacity: 0.5;">‚ùÑÔ∏è</span>
        </div>

        <div class="concept-explanation">
            <h3>The Compression Principle</h3>
            <p>Assembly Theory reveals that reality doesn't just contain information‚Äîit actively compresses it. The universe discovers increasingly efficient ways to encode complexity, allowing finite space to contain effectively infinite information.</p>
            
            <p>This compression manifests through:</p>
            <ul>
                <li><strong>Pattern Recognition:</strong> Similar structures share information rather than duplicating it</li>
                <li><strong>Hierarchical Organization:</strong> Each level abstracts and compresses the level below</li>
                <li><strong>Emergent Properties:</strong> Simple rules generate complex behaviors without storing all details</li>
                <li><strong>Information Reuse:</strong> Successful patterns are recycled across different contexts</li>
                <li><strong>Lossy Compression:</strong> Non-essential details are discarded to maximize efficiency</li>
            </ul>
            
            <p>This principle explains why nature tends toward elegance, why mathematical laws are so powerful, and why complex systems can emerge from simple beginnings. Reality itself might be the ultimate compression algorithm.</p>
        </div>

        <div class="interactive-compressor">
            <h3>DNA: Evolution's Compression Algorithm</h3>
            <p class="subtitle" style="color: #b0bec5; margin-bottom: 30px;">How 3 billion base pairs encode 3.8 billion years of evolution</p>
            
            <div class="compression-visualization" style="margin: 40px 0;">
                <div class="data-box">
                    <h4>Evolutionary History</h4>
                    <p style="font-size: 2em; color: #ffd89b; font-weight: bold;">3.8 Billion Years</p>
                    <p>Every adaptation, survival strategy, and biological innovation</p>
                    <p style="font-size: 1.2em; color: #ffd89b;">~10¬≤‚Å¥ bits</p>
                    <p style="opacity: 0.7;">If stored uncompressed</p>
                </div>
                
                <div class="arrow-compress">‚Üí</div>
                
                <div class="data-box">
                    <h4>DNA Molecule</h4>
                    <p style="font-size: 2em; color: #ffd89b; font-weight: bold;">3 Billion Base Pairs</p>
                    <p>Complete blueprint for building and operating an organism</p>
                    <p style="font-size: 1.2em; color: #ffd89b;">~750 MB</p>
                    <p style="opacity: 0.7;">Actual storage size</p>
                </div>
            </div>
            
            <div class="concept-explanation" style="margin: 30px 0;">
                <h4>The Compression Magic</h4>
                <p>DNA achieves a compression ratio of approximately <strong style="color: #ffd89b;">10¬π‚Åµ:1</strong> through several ingenious mechanisms:</p>
            </div>
            
            <div class="compression-examples" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                <div class="compression-card">
                    <h4>üîÑ Code Reuse</h4>
                    <p><strong>99.9%</strong> of human DNA is identical across all humans</p>
                    <p style="opacity: 0.7; font-size: 14px;">Store once, use billions of times</p>
                </div>
                
                <div class="compression-card">
                    <h4>üß¨ Gene Sharing</h4>
                    <p><strong>60%</strong> of genes shared with fruit flies</p>
                    <p><strong>90%</strong> of genes shared with mice</p>
                    <p style="opacity: 0.7; font-size: 14px;">Cross-species compression</p>
                </div>
                
                <div class="compression-card">
                    <h4>üì¶ Protein Folding</h4>
                    <p><strong>20,000</strong> genes create <strong>80,000+</strong> proteins</p>
                    <p style="opacity: 0.7; font-size: 14px;">1:4 amplification through folding</p>
                </div>
                
                <div class="compression-card">
                    <h4>üéØ Regulatory Switches</h4>
                    <p><strong>98%</strong> of DNA is "non-coding"</p>
                    <p style="opacity: 0.7; font-size: 14px;">But controls when/where genes activate</p>
                </div>
            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <h4>Interactive DNA Compression Demonstration</h4>
                <button class="compress-button" onclick="showEvolutionaryCompression()">Show Evolutionary Compression</button>
                <button class="compress-button" onclick="showGeneReuse()">Demonstrate Gene Reuse</button>
                <button class="compress-button" onclick="showProteinFolding()">Show Protein Folding</button>
                <button class="compress-button" onclick="showRegulation()">Show Gene Regulation</button>
            </div>
            
            <div id="sequenceDisplay" class="input-area" style="font-family: 'Courier New', monospace; overflow-x: auto;">
                <p style="opacity: 0.7;">Click a button above to see DNA compression in action</p>
            </div>
            
            <canvas id="compressionVisual" style="width: 100%; height: 400px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; margin: 20px 0;"></canvas>
            
            <div class="concept-explanation" style="margin-top: 30px;">
                <h4>How DNA Compresses Information</h4>
                
                <p><strong>1. Hierarchical Reuse:</strong> Instead of storing instructions for every cell individually, DNA stores templates that can be reused. A single HOX gene sequence controls body segment development across countless species.</p>
                
                <p><strong>2. Combinatorial Explosion:</strong> With just 4 bases (A, T, G, C), DNA creates 64 different codons, which map to 20 amino acids plus stop signals. These 20 building blocks combine to create millions of different proteins.</p>
                
                <p><strong>3. Evolutionary Compression:</strong> Successful solutions are preserved and reused. The gene for cytochrome c (essential for cellular respiration) is virtually identical across all life forms - compressed once, used universally.</p>
                
                <p><strong>4. Context-Dependent Expression:</strong> The same gene can produce different outcomes based on when, where, and how strongly it's expressed. This multiplies the effective information without increasing storage.</p>
                
                <p><strong>5. Junk DNA Isn't Junk:</strong> Non-coding regions act as a massive regulatory network, controlling gene expression with incredible precision. This meta-information layer adds functionality without adding genes.</p>
            </div>
        </div>

    </div>

    <script>
        function demonstrateCompression() {
            const output = document.getElementById('outputPattern');
            output.style.display = 'block';
            output.style.animation = 'fadeIn 0.5s ease';
        }

        function showFractal() {
            const input = document.getElementById('inputPattern');
            input.innerHTML = `
                Fractal: f(x) = f(x/2) + f(x/2)<br>
                <span style="opacity: 0.7;">Infinite detail from one simple rule</span><br>
                <span style="opacity: 0.5;">Compression: ‚àû:1</span>
            `;
        }

        function showSymmetry() {
            const input = document.getElementById('inputPattern');
            input.innerHTML = `
                Snowflake: Store 1/6th, rotate 6 times<br>
                <span style="opacity: 0.7;">‚¨¢ = One segment √ó 6 rotations</span><br>
                <span style="opacity: 0.5;">Compression: 6:1</span>
            `;
        }

        // DNA Compression Simulator variables
        const compressionCanvas = document.getElementById('compressionVisual');
        const compressionCtx = compressionCanvas.getContext('2d');
        const sequenceDisplay = document.getElementById('sequenceDisplay');
        
        // DNA bases
        const bases = ['A', 'T', 'G', 'C'];
        const baseColors = {
            'A': '#ff5555',
            'T': '#5555ff',
            'G': '#55ff55',
            'C': '#ffff55'
        };
        
        // Resize canvas
        function resizeCompressionCanvas() {
            compressionCanvas.width = compressionCanvas.offsetWidth;
            compressionCanvas.height = compressionCanvas.offsetHeight;
        }
        resizeCompressionCanvas();
        window.addEventListener('resize', resizeCompressionCanvas);

        // Generate random DNA sequence
        function generateSequence(length) {
            return Array(length).fill(0).map(() => bases[Math.floor(Math.random() * 4)]).join('');
        }
        
        // Display sequence with highlighting
        function displaySequence(sequence, highlights = []) {
            sequenceDisplay.innerHTML = '<p style="margin-bottom: 10px; opacity: 0.7;">DNA Sequence:</p>';
            const container = document.createElement('div');
            
            sequence.split('').forEach((base, index) => {
                const span = document.createElement('span');
                span.style.display = 'inline-block';
                span.style.padding = '5px 8px';
                span.style.margin = '2px';
                span.style.borderRadius = '4px';
                span.style.fontWeight = 'bold';
                span.style.transition = 'all 0.3s ease';
                
                // Set base color
                switch(base) {
                    case 'A': span.style.background = '#ff5555'; break;
                    case 'T': span.style.background = '#5555ff'; span.style.color = '#fff'; break;
                    case 'G': span.style.background = '#55ff55'; break;
                    case 'C': span.style.background = '#ffff55'; span.style.color = '#000'; break;
                }
                
                span.textContent = base;
                
                if (highlights.includes(index)) {
                    span.style.animation = 'glow 1s ease-in-out infinite';
                    span.style.boxShadow = '0 0 10px currentColor';
                }
                
                container.appendChild(span);
            });
            
            sequenceDisplay.appendChild(container);
        }

        // Show evolutionary compression
        function showEvolutionaryCompression() {
            compressionCtx.clearRect(0, 0, compressionCanvas.width, compressionCanvas.height);
            
            // Generate a sequence with conserved regions
            const sequence = generateSequence(100);
            const conservedRegion = 'ATGGCGCTGAAG'; // Example conserved sequence
            const fullSequence = sequence.slice(0, 30) + conservedRegion + sequence.slice(42);
            
            displaySequence(fullSequence, Array.from({length: conservedRegion.length}, (_, i) => i + 30));
            
            // Visualize compression
            const centerX = compressionCanvas.width / 2;
            const centerY = compressionCanvas.height / 2;
            
            // Draw timeline
            compressionCtx.strokeStyle = '#444';
            compressionCtx.lineWidth = 2;
            compressionCtx.beginPath();
            compressionCtx.moveTo(50, centerY);
            compressionCtx.lineTo(compressionCanvas.width - 50, centerY);
            compressionCtx.stroke();
            
            // Draw evolutionary points
            const timePoints = [
                { x: 100, y: centerY, label: '3.8 Bya', desc: 'First life' },
                { x: 250, y: centerY, label: '1.5 Bya', desc: 'Eukaryotes' },
                { x: 400, y: centerY, label: '600 Mya', desc: 'Animals' },
                { x: 550, y: centerY, label: '500 Mya', desc: 'Vertebrates' },
                { x: 700, y: centerY, label: 'Now', desc: 'Humans' }
            ];
            
            timePoints.forEach((point, index) => {
                // Draw point
                compressionCtx.fillStyle = '#00ff88';
                compressionCtx.beginPath();
                compressionCtx.arc(point.x, point.y, 8, 0, Math.PI * 2);
                compressionCtx.fill();
                
                // Draw label
                compressionCtx.fillStyle = '#fff';
                compressionCtx.font = '12px sans-serif';
                compressionCtx.textAlign = 'center';
                compressionCtx.fillText(point.label, point.x, point.y - 20);
                compressionCtx.fillText(point.desc, point.x, point.y + 30);
                
                // Draw compression lines
                if (index > 0) {
                    compressionCtx.strokeStyle = `rgba(0, 255, 136, ${0.2 * index})`;
                    compressionCtx.lineWidth = 1;
                    compressionCtx.beginPath();
                    compressionCtx.moveTo(timePoints[0].x, timePoints[0].y);
                    compressionCtx.quadraticCurveTo(
                        point.x - 50, point.y - 50,
                        point.x, point.y
                    );
                    compressionCtx.stroke();
                }
            });
            
            // Add info text
            compressionCtx.fillStyle = '#888';
            compressionCtx.font = '14px sans-serif';
            compressionCtx.textAlign = 'left';
            compressionCtx.fillText('Conserved sequence (highlighted) present across all these organisms', 50, 50);
            compressionCtx.fillText('3.8 billion years of evolution compressed into reusable genetic modules', 50, 70);
        }

        // Show gene reuse
        function showGeneReuse() {
            compressionCtx.clearRect(0, 0, compressionCanvas.width, compressionCanvas.height);
            
            // Create shared gene sequence
            const sharedGene = 'ATGCGATCGCTA';
            const humanSeq = generateSequence(20) + sharedGene + generateSequence(20);
            const mouseSeq = generateSequence(15) + sharedGene + generateSequence(25);
            const flySeq = generateSequence(25) + sharedGene + generateSequence(15);
            
            sequenceDisplay.innerHTML = `
                <p style="opacity: 0.7; margin-bottom: 10px;">Gene Reuse Across Species:</p>
                <div style="margin: 10px 0;">
                    <strong style="color: #ff5555;">Human:</strong> ${humanSeq.slice(0, 20)}<span style="background: #00ff88; color: #000; padding: 2px;">${sharedGene}</span>${humanSeq.slice(32)}
                </div>
                <div style="margin: 10px 0;">
                    <strong style="color: #5555ff;">Mouse:</strong> ${mouseSeq.slice(0, 15)}<span style="background: #00ff88; color: #000; padding: 2px;">${sharedGene}</span>${mouseSeq.slice(27)}
                </div>
                <div style="margin: 10px 0;">
                    <strong style="color: #ffff55;">Fly:</strong> ${flySeq.slice(0, 25)}<span style="background: #00ff88; color: #000; padding: 2px;">${sharedGene}</span>${flySeq.slice(37)}
                </div>
                <p style="opacity: 0.7; margin-top: 10px;">Same gene (highlighted) reused across species = massive compression</p>
            `;
            
            // Visualize connections
            const species = [
                { name: 'Human', x: 150, y: 100, color: '#ff5555' },
                { name: 'Mouse', x: 150, y: 200, color: '#5555ff' },
                { name: 'Fly', x: 150, y: 300, color: '#ffff55' }
            ];
            
            const geneX = compressionCanvas.width - 200;
            const geneY = compressionCanvas.height / 2;
            
            // Draw shared gene
            compressionCtx.fillStyle = '#00ff88';
            compressionCtx.fillRect(geneX - 60, geneY - 30, 120, 60);
            compressionCtx.fillStyle = '#000';
            compressionCtx.font = 'bold 16px sans-serif';
            compressionCtx.textAlign = 'center';
            compressionCtx.fillText('Shared Gene', geneX, geneY + 5);
            
            // Draw species and connections
            species.forEach(sp => {
                // Draw species box
                compressionCtx.fillStyle = sp.color;
                compressionCtx.fillRect(sp.x - 50, sp.y - 20, 100, 40);
                compressionCtx.fillStyle = '#000';
                compressionCtx.font = '14px sans-serif';
                compressionCtx.fillText(sp.name, sp.x, sp.y + 5);
                
                // Draw connection
                compressionCtx.strokeStyle = sp.color;
                compressionCtx.lineWidth = 3;
                compressionCtx.beginPath();
                compressionCtx.moveTo(sp.x + 50, sp.y);
                compressionCtx.quadraticCurveTo(
                    (sp.x + geneX) / 2, sp.y,
                    geneX - 60, geneY
                );
                compressionCtx.stroke();
            });
            
            // Add statistics
            compressionCtx.fillStyle = '#fff';
            compressionCtx.font = '16px sans-serif';
            compressionCtx.textAlign = 'left';
            compressionCtx.fillText('Compression achieved:', 50, compressionCanvas.height - 80);
            compressionCtx.fillText('‚Ä¢ Store gene once: 12 bases', 50, compressionCanvas.height - 55);
            compressionCtx.fillText('‚Ä¢ Use in millions of species', 50, compressionCanvas.height - 30);
            compressionCtx.fillStyle = '#00ff88';
            compressionCtx.font = 'bold 18px sans-serif';
            compressionCtx.fillText('Compression ratio: 1,000,000:1', 50, compressionCanvas.height - 5);
        }

        // Show protein folding
        function showProteinFolding() {
            compressionCtx.clearRect(0, 0, compressionCanvas.width, compressionCanvas.height);
            
            const gene = 'ATGGCGCTGAAGCCTGAA';
            displaySequence(gene);
            
            sequenceDisplay.innerHTML += `
                <p style="opacity: 0.7; margin-top: 20px;">One gene sequence ‚Üí Multiple protein configurations:</p>
            `;
            
            // Visualize folding amplification
            const startX = 100;
            const startY = compressionCanvas.height / 2;
            
            // Draw gene
            compressionCtx.fillStyle = '#0088ff';
            compressionCtx.fillRect(startX - 50, startY - 20, 100, 40);
            compressionCtx.fillStyle = '#fff';
            compressionCtx.font = '14px sans-serif';
            compressionCtx.textAlign = 'center';
            compressionCtx.fillText('Single Gene', startX, startY + 5);
            
            // Draw protein variants
            const proteins = [
                { x: 400, y: 80, name: 'Protein A', color: '#ff5555' },
                { x: 400, y: 160, name: 'Protein B', color: '#55ff55' },
                { x: 400, y: 240, name: 'Protein C', color: '#ffff55' },
                { x: 400, y: 320, name: 'Protein D', color: '#ff55ff' }
            ];
            
            proteins.forEach(protein => {
                // Draw arrow
                compressionCtx.strokeStyle = protein.color;
                compressionCtx.lineWidth = 2;
                compressionCtx.beginPath();
                compressionCtx.moveTo(startX + 50, startY);
                compressionCtx.quadraticCurveTo(
                    250, protein.y,
                    protein.x - 50, protein.y
                );
                compressionCtx.stroke();
                
                // Draw protein
                compressionCtx.fillStyle = protein.color;
                compressionCtx.beginPath();
                compressionCtx.arc(protein.x, protein.y, 30, 0, Math.PI * 2);
                compressionCtx.fill();
                compressionCtx.fillStyle = '#000';
                compressionCtx.font = '12px sans-serif';
                compressionCtx.fillText(protein.name, protein.x, protein.y + 5);
            });
            
            // Add explanation
            compressionCtx.fillStyle = '#fff';
            compressionCtx.font = '16px sans-serif';
            compressionCtx.textAlign = 'left';
            compressionCtx.fillText('Information amplification:', 50, 50);
            compressionCtx.font = '14px sans-serif';
            compressionCtx.fillStyle = '#888';
            compressionCtx.fillText('‚Ä¢ Alternative splicing', 70, 75);
            compressionCtx.fillText('‚Ä¢ Post-translational modifications', 70, 95);
            compressionCtx.fillText('‚Ä¢ Different folding patterns', 70, 115);
            
            compressionCtx.fillStyle = '#00ff88';
            compressionCtx.font = 'bold 18px sans-serif';
            compressionCtx.fillText('1 gene ‚Üí 4+ functional proteins', compressionCanvas.width - 350, compressionCanvas.height - 20);
        }

        // Show gene regulation
        function showRegulation() {
            compressionCtx.clearRect(0, 0, compressionCanvas.width, compressionCanvas.height);
            
            const gene = 'ATGGCGCTGAAGCCTGAACGTACG';
            const promoter = 'TATAAA';
            const enhancer = 'CAAT';
            
            const fullSequence = enhancer + '...' + promoter + '...' + gene;
            
            sequenceDisplay.innerHTML = `
                <p style="opacity: 0.7;">Gene Regulation Elements:</p>
                <div style="margin: 10px 0;">
                    <span style="background: #ff5555; color: #000; padding: 5px; margin: 2px;">${enhancer}</span>
                    <span style="color: #444;">...regulatory region...</span>
                    <span style="background: #5555ff; color: #fff; padding: 5px; margin: 2px;">${promoter}</span>
                    <span style="color: #444;">...spacer...</span>
                    <span style="background: #00ff88; color: #000; padding: 5px; margin: 2px;">${gene}</span>
                </div>
                <p style="opacity: 0.7; margin-top: 10px;">Same gene, different expression patterns = different cell types</p>
            `;
            
            // Visualize regulation
            const centerY = 100;
            
            // Draw gene
            compressionCtx.fillStyle = '#00ff88';
            compressionCtx.fillRect(compressionCanvas.width / 2 - 100, centerY - 20, 200, 40);
            compressionCtx.fillStyle = '#000';
            compressionCtx.font = '14px sans-serif';
            compressionCtx.textAlign = 'center';
            compressionCtx.fillText('Same Gene', compressionCanvas.width / 2, centerY + 5);
            
            // Draw cell types
            const cellTypes = [
                { name: 'Skin Cell', x: 150, y: 250, expression: 10 },
                { name: 'Nerve Cell', x: 350, y: 250, expression: 90 },
                { name: 'Muscle Cell', x: 550, y: 250, expression: 50 },
                { name: 'Liver Cell', x: 750, y: 250, expression: 30 }
            ];
            
            cellTypes.forEach(cell => {
                // Draw connection
                compressionCtx.strokeStyle = `rgba(0, 255, 136, ${cell.expression / 100})`;
                compressionCtx.lineWidth = cell.expression / 20;
                compressionCtx.beginPath();
                compressionCtx.moveTo(compressionCanvas.width / 2, centerY + 20);
                compressionCtx.quadraticCurveTo(
                    cell.x, centerY + 80,
                    cell.x, cell.y - 40
                );
                compressionCtx.stroke();
                
                // Draw cell
                compressionCtx.fillStyle = `rgba(0, 136, 255, ${cell.expression / 100})`;
                compressionCtx.beginPath();
                compressionCtx.arc(cell.x, cell.y, 35, 0, Math.PI * 2);
                compressionCtx.fill();
                
                // Label
                compressionCtx.fillStyle = '#fff';
                compressionCtx.font = '12px sans-serif';
                compressionCtx.fillText(cell.name, cell.x, cell.y - 5);
                compressionCtx.fillText(`${cell.expression}%`, cell.x, cell.y + 10);
            });
            
            // Add explanation
            compressionCtx.fillStyle = '#fff';
            compressionCtx.font = '16px sans-serif';
            compressionCtx.textAlign = 'left';
            compressionCtx.fillText('Regulatory compression:', 50, compressionCanvas.height - 60);
            compressionCtx.font = '14px sans-serif';
            compressionCtx.fillText('One gene creates 200+ cell types through differential expression', 50, compressionCanvas.height - 35);
            compressionCtx.fillStyle = '#00ff88';
            compressionCtx.font = 'bold 18px sans-serif';
            compressionCtx.fillText('Compression: 1:200+', 50, compressionCanvas.height - 10);
        }

        // Add subtle animations on load
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.compression-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
            
            // Initialize with evolutionary compression display
            showEvolutionaryCompression();
        });
        
        // Add keyframe animation for glow effect
        const style = document.createElement('style');
        style.textContent = `
            @keyframes glow {
                0%, 100% { box-shadow: 0 0 5px currentColor; }
                50% { box-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>